(this["webpackJsonpfront-app"]=this["webpackJsonpfront-app"]||[]).push([[0],{154:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(30),r=n.n(a),c=n(79),i=n(10),o=(n(154),n(28)),l=n.n(o),u=n(41),j=n(6),d=n(143),b=n(242),p=n(243),h=n(141),m=n(244),x=n(245),O=n(47),g=n.n(O),f=n(5);var y=function(){var e=Object(s.useState)("sign in"),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(i.f)(),c=function(){var e=Object(u.a)(l.a.mark((function e(t){var s,a,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.username,a=t.password,console.log(s," ",a),"sign in"!==n){e.next=17;break}return e.prev=3,e.next=6,g.a.post("http://localhost:4000/api/v1/admin/signin",{username:s,password:a},{withCredentials:!0});case 6:c=e.sent,console.log("result: ",c),200===c.status&&r("/dashboard",{state:{username:c.data.data.admin.username}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),d.b.error("no user found");case 15:e.next=22;break;case 17:return e.next=19,g()({method:"post",url:"http://localhost:4000/api/v1/admin/signup",data:{username:s,password:a},headers:{withCredentials:!0}});case 19:i=e.sent,console.log("result: ",i),201===i.status&&r("/dashboard",{state:{username:i.data.data.admin.username}});case 22:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(b.a,{justify:"center",gutter:[0,40],children:Object(f.jsxs)("div",{className:"singinBox",children:[Object(f.jsxs)(b.a,{justify:"center",gutter:[20],style:{marginBottom:"20px"},children:[Object(f.jsx)(p.a,{children:Object(f.jsx)(h.a,{type:"primary",shape:"round",size:"middle",onClick:function(){return a("sign in")},children:"Sign in"})}),Object(f.jsx)(p.a,{children:Object(f.jsx)(h.a,{type:"primary",shape:"round",size:"middle",onClick:function(){return a("sign up")},children:"Sign up"})})]}),Object(f.jsxs)(m.a,{name:"singin",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:c,autoComplete:"off",children:[Object(f.jsx)(m.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(f.jsx)(x.a,{})}),Object(f.jsx)(m.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(f.jsx)(x.a.Password,{})}),Object(f.jsx)(m.a.Item,{wrapperCol:{offset:8,span:16},children:Object(f.jsx)(h.a,{type:"primary",htmlType:"submit",children:n})})]})]})})},v=n(246);var w=function(e){e.getLogs;var t=e.getMyUsers,n=function(){var e=Object(u.a)(l.a.mark((function e(n){var s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=n.name,a=n.number,console.log(s," ",a),g.a.post("http://localhost:4000/api/v1/user/createUser",{name:s,number:a},{withCredentials:!0}).then((function(e){console.log("result: ",e),200===e.status&&d.b.success("user created successfully"),t()})).catch((function(e){console.log("error: ",e),d.b.error("please signin first")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(m.a,{name:"singin",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:n,autoComplete:"off",children:[Object(f.jsx)(m.a.Item,{label:"name",name:"name",rules:[{required:!0,message:"Please input your username!"}],children:Object(f.jsx)(x.a,{})}),Object(f.jsx)(m.a.Item,{label:"number",name:"number",rules:[{required:!0,message:"Please input your password!"}],children:Object(f.jsx)(x.a,{})}),Object(f.jsx)(m.a.Item,{wrapperCol:{offset:8,span:16},children:Object(f.jsx)(h.a,{type:"primary",htmlType:"submit",children:"create user"})})]})},C=function(){var e=Object(i.f)(),t=Object(i.e)().state.username;console.log("username: ",t);var n=Object(s.useState)([]),a=Object(j.a)(n,2),r=a[0],c=a[1],o=Object(s.useState)([]),l=Object(j.a)(o,2),u=l[0],m=l[1];Object(s.useEffect)((function(){x()}),[]);var x=function(){g.a.get("http://localhost:4000/api/v1/admin/get-my-users",{withCredentials:!0}).then((function(e){console.log("result: ",e),200===e.status&&c(e.data.data)})).catch((function(e){console.log(e)}))};return Object(f.jsxs)("div",{style:{margin:"50px"},children:[Object(f.jsx)("div",{children:Object(f.jsxs)("p",{children:["your name is: ",t]})}),Object(f.jsxs)(b.a,{justify:"space-between",children:[Object(f.jsx)(p.a,{children:Object(f.jsx)(w,{getMyUsers:x})}),Object(f.jsx)(p.a,{children:Object(f.jsxs)(v.b,{children:[Object(f.jsx)(h.a,{style:{backgroundColor:"lightgreen"},onClick:function(){g()("http://localhost:4000/api/v1/admin/getlogs",{withCredentials:!0}).then((function(e){console.log("result: ",e),200===e.status&&m(e.data.data)})).catch((function(e){console.log(e)}))},children:"get logs"}),Object(f.jsx)(h.a,{style:{backgroundColor:"red"},onClick:function(){g.a.get("http://localhost:4000/api/v1/admin/signout",{withCredentials:!0}).then((function(t){console.log("result: ",t),d.b.warning("you logged out successfully"),e("/")})).catch((function(e){console.log(e)}))},children:"log out"})]})})]}),Object(f.jsxs)(b.a,{justify:"space-between",style:{marginLeft:"50px",marginRight:"5px"},children:[Object(f.jsx)(p.a,{children:r.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:[e.name," - ",e.number]})},t+100)}))}),Object(f.jsx)(p.a,{children:u.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:[e.name," - ",e.number," - ",e.adminName]})},t)}))})]})]})};var k=function(){return Object(f.jsx)(c.a,{children:Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{path:"/",element:Object(f.jsx)(y,{})}),Object(f.jsx)(i.a,{exact:!0,path:"/signin",element:Object(f.jsx)(y,{})}),Object(f.jsx)(i.a,{exact:!0,path:"/signup",element:Object(f.jsx)(y,{})}),Object(f.jsx)(i.a,{exact:!0,path:"/dashboard",element:Object(f.jsx)(C,{})})]})})};var I=function(){return Object(f.jsx)(k,{})};r.a.render(Object(f.jsx)(I,{}),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.5d1bcb4f.chunk.js.map